# 📝 管理画面の使い方ガイド

## 管理画面URL

**本番環境**: https://yukawa-hiroyuki.pages.dev/admin/
**開発環境**: http://localhost:3000/admin/

## 📋 できること

管理画面では以下の操作がブラウザから簡単にできます：

1. **活動報告の追加・管理**
   - 日付、カテゴリ、タイトル、内容を入力
   - 複数の写真をアップロード
   - 既存の活動報告を削除

2. **TOPICSの追加・管理**
   - TOPページに表示されるニュースを管理
   - 1枚の画像を追加可能
   - 最新3件が自動的にTOPページに表示

3. **統計情報の更新**
   - 地域訪問回数
   - 住民の声を聴取
   - 地域イベント参加

4. **データの出力・保存**
   - JSONデータを生成
   - コピーしてGitHubに保存

## 🚀 基本的な使い方

### 1. 活動報告を追加する

1. 管理画面にアクセス: https://yukawa-hiroyuki.pages.dev/admin/
2. 「📋 活動報告管理」タブをクリック
3. フォームに情報を入力：
   - **日付**: 活動を行った日付
   - **カテゴリ**: 街頭活動、地域訪問、政策提言など
   - **タイトル**: 活動のタイトル（例: 須磨駅前で街頭演説を実施）
   - **内容**: 活動の詳細説明
   - **写真**: 複数の写真をアップロード可能
4. 「➕ 活動を追加」ボタンをクリック
5. 登録済み活動報告の一覧に追加されます

### 2. TOPICSを追加する

1. 「📢 TOPICS管理」タブをクリック
2. フォームに情報を入力：
   - **日付**: 記事の日付
   - **カテゴリ**: お知らせ、活動報告、政策、イベント
   - **タイトル**: 記事のタイトル
   - **内容**: 記事の本文
   - **写真**: 1枚の画像をアップロード（オプション）
3. 「➕ TOPICSを追加」ボタンをクリック

### 3. 統計情報を更新する

1. 「📊 統計情報管理」タブをクリック
2. 3つの数字を更新：
   - 地域訪問回数
   - 住民の声を聴取
   - 地域イベント参加
3. 「📊 統計を更新」ボタンをクリック

### 4. サイトに反映させる（最重要）

**この作業をしないとサイトに反映されません！**

1. 「💾 データ出力」タブをクリック
2. 「💾 JSONを生成」ボタンをクリック
3. 「📋 JSONをコピー」ボタンをクリック
4. GitHubにアクセス:
   - https://github.com/RyoA12341234/Yukawa
   - `public/data/content.json` ファイルを開く
   - 鉛筆マーク（編集）をクリック
   - すべての内容を削除して、コピーしたJSONを貼り付け
   - 「Commit changes」ボタンをクリック
5. 数分後にサイトに反映されます

## 📸 画像について

### 画像のアップロード方法

1. **活動報告**: 複数の写真をまとめて選択可能
2. **TOPICS**: 1枚の画像をアップロード

### 画像の保存形式

- 画像はBase64形式で保存されます（ブラウザ内に保存）
- 外部のサーバーは不要です
- ただし、画像が多いとJSONファイルが大きくなります

### 画像サイズの推奨

- **推奨サイズ**: 1000px × 1000px 以下
- **ファイルサイズ**: 500KB以下
- 大きすぎる画像はリサイズしてからアップロードしてください

## 💾 データの保存について

### ローカルストレージ

- 管理画面のデータはブラウザに保存されます
- 同じブラウザであればデータは保持されます
- ブラウザを変更するとデータは引き継がれません

### GitHubへの保存（重要）

**定期的にGitHubに保存してください！**

1. ブラウザのデータが消える可能性があります
2. GitHubに保存することで永続的に保存されます
3. データ出力タブでJSONをコピーして保存

## 🔄 データの復元

もしブラウザのデータが消えても、GitHubから復元できます：

1. https://github.com/RyoA12341234/Yukawa/blob/main/public/data/content.json にアクセス
2. 「Raw」ボタンをクリック
3. すべてのJSONをコピー
4. ブラウザのコンソールを開く（F12キー）
5. 以下のコードを実行：
```javascript
localStorage.setItem('yukawaContent', 'ここにコピーしたJSON');
location.reload();
```

## 📱 スマートフォンからの利用

管理画面はスマートフォンからも利用可能です：

1. https://yukawa-hiroyuki.pages.dev/admin/ にアクセス
2. 写真はスマホのカメラから直接アップロード可能
3. データ出力はスマホでも可能

ただし、GitHubへの保存はPCからの方が簡単です。

## ⚠️ 注意事項

1. **必ずGitHubに保存する**
   - ブラウザのデータは消える可能性があります
   - 定期的にGitHubに保存してください

2. **画像サイズに注意**
   - 大きすぎる画像はサイトの表示速度に影響します
   - 推奨サイズにリサイズしてください

3. **定期的なバックアップ**
   - データ出力タブでJSONをコピーして保存しておくことをお勧めします

4. **サイトへの反映時間**
   - GitHubに保存してから数分かかります
   - すぐに反映されない場合は5分程度待ってください

## 🛠️ トラブルシューティング

### Q. データが消えてしまった

A. GitHubの `content.json` から復元できます（上記「データの復元」参照）

### Q. 画像がアップロードできない

A. 画像のファイルサイズが大きすぎる可能性があります。リサイズしてください。

### Q. サイトに反映されない

A. 以下を確認してください：
1. GitHubに正しく保存されているか
2. 5分程度待っているか
3. ブラウザのキャッシュをクリアしてみてください

### Q. 管理画面にアクセスできない

A. URLを確認してください：
- 本番: https://yukawa-hiroyuki.pages.dev/admin/
- 最後の `/` が必要です

## 📞 サポート

わからないことがあれば、管理画面の使い方について詳しく説明できます。
