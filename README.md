# 湯川寛之オフィシャルサイト

国民民主党 神戸市須磨区の湯川寛之の公式Webサイト

## 🌐 公開URL

- **本番環境**: https://yukawa-hiroyuki.pages.dev
- **管理画面**: https://yukawa-hiroyuki.pages.dev/admin/
- **GitHubリポジトリ**: https://github.com/RyoA12341234/Yukawa

## 📋 プロジェクト概要

- **名前**: 湯川寛之（ゆかわ ひろゆき）
- **所属**: 国民民主党
- **地域**: 神戸市須磨区
- **キャッチコピー**: すべての人が輝く須磨区へ

## 🎨 デザイン

- **構造**: 枝野幸男サイトのUI/UX構造を踏襲
- **カラースキーム**: 国民民主党カラー
  - プライマリー青: #0051A5
  - プライマリー黄色: #FFD700
- **フォント**: Noto Sans JP
- **レスポンシブ**: モバイル・タブレット・デスクトップ対応

## 📝 管理画面の使い方

### アクセス方法
管理画面URL: **https://yukawa-hiroyuki.pages.dev/admin/**

### できること
1. **ヒーロー**: 名前、ふりがな、地域、スローガン、背景画像の編集
2. **私の想い**: タイトル、内容、画像の編集
3. **プロフィール**: 名前、所属、活動内容、経歴、家族、座右の銘、プロフィール画像の編集
4. **5つの政策**: タイトル、説明、具体的な取り組み、画像の編集
5. **10の重点プロジェクト**: タイトル、説明の編集
6. **須磨区レポート**: 日付、タイトル、説明、画像、PDF URL（追加・編集・削除可能）
7. **TOPICS**: 日付、カテゴリ、タイトル、説明、画像（追加・編集・削除可能）
8. **活動報告**: 日付、カテゴリ、タイトル、活動内容、複数画像（追加・編集・削除可能）
9. **統計情報**: 地域訪問回数、住民の声聴取数、イベント参加数、最終更新日の編集

### 更新手順（超簡単！）
1. 管理画面 (https://yukawa-hiroyuki.pages.dev/admin/) でコンテンツを編集
2. 画像をアップロード（必要に応じて）
3. **「保存してサイトに反映」ボタンをクリック**
4. **完了！数秒で本番サイトに反映されます！**

**✅ 動作保証（2026-02-14 完全修正済み）**: 
- ✅ **管理画面とトップページが同じKVから読み込み** - データソースが完全に統一
- ✅ **GitHubへのアップロード不要** - ボタン1つで完了
- ✅ **即座に反映（実証済み）** - Cloudflare KVに保存後、数秒で表示更新
- ✅ **全セクション編集可能** - すべてのコンテンツを管理画面から更新可能
- ✅ **画像自動圧縮** - 最大1200px、品質0.7で自動圧縮（800KB以下に）
- ✅ **活動報告の数値も編集可能** - 統計情報タブまたは活動報告タブから変更

**データフロー:**
```
管理画面で編集 → 保存ボタン → POST /api/update-content 
→ Cloudflare KVに保存 → GET /api/content で読み込み 
→ トップページで表示
```

## 📖 主要コンテンツ

### 1. ヒーロー画像セクション
- 大きな背景画像エリア
- 名前プレート（神戸市須磨区 / 湯川寛之 / すべての人が輝く須磨区へ）

### 2. TOPICSセクション
- 最新の活動報告・お知らせ（管理画面から追加可能）

### 3. 私の想いセクション
- 湯川寛之の想いと須磨区への決意

### 4. 5つの基本政策
神戸市須磨区基本計画に基づく具体的な政策：

1. **安全で安心なまちづくり**
   - 防災・減災対策の強化
   - 木造住宅耐震化率80%達成
   - 防犯カメラ設置補助で犯罪発生率30%削減
   - 交通安全対策の推進

2. **子どもから高齢者まで健やかに暮らせるまちづくり**
   - 待機児童ゼロの実現
   - 教育環境の充実
   - 認知症サポーター1,000人養成
   - 健康寿命の延伸
   - 障害者支援の充実

3. **まちの魅力を高め、人を呼び込むまちづくり**
   - 名谷駅周辺の活性化
   - 須磨海浜公園・須磨離宮公園の魅力向上
   - 若年層の定住促進
   - 観光・賑わいの創出

4. **誰もがいきいきと活躍し、交流するまちづくり**
   - 市民活動の活性化
   - 多文化共生の推進
   - 生涯学習・スポーツの振興
   - 地域交流の促進

5. **豊かな自然・歴史・文化を次世代へつなぐまちづくり**
   - 自然環境の保全
   - 歴史・文化の継承
   - 歴史散策ルートの整備
   - 環境教育の推進

### 5. 10の重点プロジェクト
須磨区将来ビジョン実現に向けた優先施策：

01. 地域のつながり・防犯力強化
02. 災害に強いまちづくり
03. 子どもの笑顔をはぐくむ
04. 地域で支えあう福祉
05. 歴史・文化を次世代へ
06. 魅力・活気あふれるまち
07. 参画と協働のまちづくり
08. 海と山の自然を活かす
09. 名谷駅周辺の活性化
10. 須磨海浜公園・海辺再生

### 6. 須磨区レポート
- 地域の課題と解決策を定期的に発信

### 7. 活動報告（管理画面から更新可能）
- **現在の統計**（2026-02-14時点）:
  - 地域訪問回数: 700+
  - 住民の声を聴取: 1,500+
  - 地域イベント参加: 70+
- **管理画面で統計情報を更新できます**
  - 統計情報タブから編集
  - または活動報告タブの上部からも編集可能
  - 編集後すぐに本番サイトに反映

### 8. 湯川寛之のあゆみ
- プロフィール
- 経歴
- 座右の銘: 「一隅を照らす」

### 9. 応援しよう
- 応援・寄付
- ボランティア
- メールマガジン
- SNSフォロー

## 🛠️ 技術スタック

- **フレームワーク**: [Hono](https://hono.dev/) - 軽量・高速なWebフレームワーク
- **ランタイム**: Cloudflare Workers
- **デプロイ**: Cloudflare Pages
- **ストレージ**: Cloudflare KV（コンテンツ管理用）
- **ビルドツール**: Vite
- **言語**: TypeScript
- **スタイル**: CSS（カスタム）
- **管理画面**: バニラJavaScript（フレームワーク不要）

## 📁 プロジェクト構造

```
webapp/
├── src/
│   ├── index.tsx          # メインアプリケーション
│   └── renderer.tsx       # HTMLレンダラー
├── public/
│   ├── admin/             # 管理画面
│   │   └── index.html
│   ├── static/
│   │   ├── edano-structure.css  # メインスタイルシート
│   │   ├── admin.css            # 管理画面スタイル
│   │   └── admin.js             # 管理画面ロジック
│   └── data/
│       └── content.json   # コンテンツデータ
├── dist/                  # ビルド出力
├── wrangler.jsonc         # Cloudflare設定
├── package.json           # 依存関係
├── tsconfig.json          # TypeScript設定
├── ADMIN_GUIDE.md         # 管理画面使い方ガイド
├── EDITING_GUIDE.md       # コード編集ガイド
└── README.md             # このファイル
```

## 🚀 開発・デプロイ

### 開発環境の起動

```bash
# 依存関係のインストール
npm install

# ビルド
npm run build

# 開発サーバー起動（ローカル）
npm run dev

# PM2でサービス起動（サンドボックス環境）
pm2 start ecosystem.config.cjs
```

### デプロイ

```bash
# ビルド
npm run build

# Cloudflare Pagesへデプロイ
npm run deploy

# または手動デプロイ
npx wrangler pages deploy dist --project-name yukawa-hiroyuki

# または簡単デプロイスクリプト
./deploy.sh
```

## 🖼️ 画像アップロード機能

### 管理画面から（推奨）
管理画面 (https://yukawa-hiroyuki.pages.dev/admin/) でTOPICSや活動報告に画像を追加できます。

### メインページの画像
以下の画像エリアに直接アップロード機能を実装しています：

- ヒーロー画像
- 私の想い画像
- 5つの政策画像（5枚）
- 須磨区レポート画像
- プロフィール画像

画像をアップロードするには、各セクションの「画像をアップロード」ボタンをクリックしてください。

## 📝 更新履歴

### 2026-02-14
- **方法Bの実装完了** - GitHubアップロード不要に
  - フロントエンドを完全動的化（APIから読み込み）
  - Cloudflare KVストレージと連携
  - 管理画面で編集→即座にサイトに反映
  - 統計情報（地域訪問回数等）も管理画面から編集可能
  - 活動報告タブに統計編集エリアを追加

### 2026-02-08
- 管理画面実装
  - TOPICSの追加・編集・削除機能
  - 活動報告の追加・編集・削除機能
  - 統計情報の更新機能
  - 画像アップロード・プレビュー機能
  - ドラッグ&ドロップ対応
  - JSONダウンロード機能
- 管理画面ガイド作成 (ADMIN_GUIDE.md)
- サンドボックス不要のワークフロー確立

### 2024-12-27
- 初版リリース
- 枝野サイト構造を完全再現
- 国民民主党カラー適用
- 須磨区基本計画の政策を反映
- 画像アップロード機能実装
- GitHubとCloudflare Pages連携

### デプロイ情報
- **プロジェクト名**: yukawa-hiroyuki
- **本番ブランチ**: main
- **最終デプロイ日**: 2026-02-14
- **デプロイURL**: https://yukawa-hiroyuki.pages.dev
- **管理画面URL**: https://yukawa-hiroyuki.pages.dev/admin/
- **ストレージ**: Cloudflare KV (namespace: yukawa_content)

## 🔧 管理者向けガイド

- **[管理画面使い方ガイド](./ADMIN_GUIDE.md)** - コンテンツの追加・編集方法
- **[コード編集ガイド](./EDITING_GUIDE.md)** - テキスト・色・サイズの変更方法
- **[デプロイスクリプト](./deploy.sh)** - ワンコマンドデプロイ

## 📞 お問い合わせ

事務所: 神戸市須磨区（準備中）

---

© 2024 湯川寛之 | 国民民主党 神戸市須磨区
