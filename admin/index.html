<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ç”»é¢ - æ¹¯å·å¯›ä¹‹ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚µã‚¤ãƒˆ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #0051A5 0%, #003d7a 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      overflow: hidden;
    }

    .header {
      background: #0051A5;
      color: white;
      padding: 30px;
      text-align: center;
    }

    .header h1 {
      font-size: 28px;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .header p {
      font-size: 14px;
      opacity: 0.9;
    }

    .tabs {
      display: flex;
      background: #f5f5f5;
      border-bottom: 2px solid #e0e0e0;
    }

    .tab {
      flex: 1;
      padding: 18px;
      text-align: center;
      cursor: pointer;
      background: #f5f5f5;
      border: none;
      font-size: 16px;
      font-weight: 500;
      color: #666;
      transition: all 0.3s;
      position: relative;
    }

    .tab:hover {
      background: #ebebeb;
    }

    .tab.active {
      background: white;
      color: #0051A5;
      font-weight: 700;
    }

    .tab.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      right: 0;
      height: 2px;
      background: #0051A5;
    }

    .content {
      padding: 30px;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .form-group {
      margin-bottom: 25px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
      font-size: 14px;
    }

    input[type="text"],
    input[type="date"],
    textarea,
    select {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      font-family: inherit;
      transition: border-color 0.3s;
    }

    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #0051A5;
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    .image-upload-area {
      border: 2px dashed #0051A5;
      border-radius: 8px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      background: #f8f9fa;
    }

    .image-upload-area:hover {
      background: #e8f0fe;
      border-color: #003d7a;
    }

    .image-upload-area input[type="file"] {
      display: none;
    }

    .image-preview {
      margin-top: 15px;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    .image-preview img {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 8px;
      border: 2px solid #e0e0e0;
    }

    .btn-primary {
      background: #0051A5;
      color: white;
      border: none;
      padding: 14px 32px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-block;
      margin-right: 10px;
    }

    .btn-primary:hover {
      background: #003d7a;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 81, 165, 0.3);
    }

    .btn-secondary {
      background: #FFD700;
      color: #0051A5;
      border: none;
      padding: 14px 32px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-block;
    }

    .btn-secondary:hover {
      background: #FFC700;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
    }

    .btn-danger {
      background: #dc3545;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-danger:hover {
      background: #c82333;
    }

    .activity-list {
      margin-top: 30px;
    }

    .activity-item {
      background: #f8f9fa;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      transition: all 0.3s;
    }

    .activity-item:hover {
      border-color: #0051A5;
      box-shadow: 0 4px 12px rgba(0, 81, 165, 0.1);
    }

    .activity-item-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .activity-item-title {
      font-size: 18px;
      font-weight: 700;
      color: #0051A5;
    }

    .activity-item-meta {
      display: flex;
      gap: 15px;
      margin-bottom: 10px;
      font-size: 13px;
      color: #666;
    }

    .activity-item-images {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .activity-item-images img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 6px;
    }

    .success-message {
      background: #d4edda;
      color: #155724;
      padding: 15px 20px;
      border-radius: 6px;
      margin-bottom: 20px;
      border: 1px solid #c3e6cb;
      display: none;
    }

    .error-message {
      background: #f8d7da;
      color: #721c24;
      padding: 15px 20px;
      border-radius: 6px;
      margin-bottom: 20px;
      border: 1px solid #f5c6cb;
      display: none;
    }

    .instructions {
      background: #fff3cd;
      border: 1px solid #ffc107;
      border-radius: 6px;
      padding: 20px;
      margin-bottom: 25px;
    }

    .instructions h3 {
      color: #856404;
      margin-bottom: 12px;
      font-size: 16px;
    }

    .instructions ol {
      margin-left: 20px;
      color: #856404;
    }

    .instructions li {
      margin-bottom: 8px;
      line-height: 1.6;
    }

    .json-output {
      background: #f8f9fa;
      border: 2px solid #0051A5;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
    }

    .json-output pre {
      background: #1e1e1e;
      color: #dcdcdc;
      padding: 20px;
      border-radius: 6px;
      overflow-x: auto;
      font-size: 13px;
      line-height: 1.6;
      max-height: 400px;
    }

    .copy-button {
      background: #FFD700;
      color: #0051A5;
      border: none;
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }

    .copy-button:hover {
      background: #FFC700;
    }

    .stats-form {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .image-buttons {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    .image-buttons button {
      padding: 8px 16px;
      font-size: 13px;
    }

    @media (max-width: 768px) {
      .tabs {
        flex-direction: column;
      }

      .activity-item-header {
        flex-direction: column;
        align-items: flex-start;
      }

      .btn-primary,
      .btn-secondary {
        display: block;
        width: 100%;
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ“ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ç”»é¢</h1>
      <p>æ¹¯å·å¯›ä¹‹ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚µã‚¤ãƒˆ - æ´»å‹•å ±å‘Šã¨å†™çœŸã‚’ç°¡å˜ã«ç®¡ç†</p>
    </div>

    <div class="tabs">
      <button class="tab active" onclick="switchTab('activities')">ğŸ“‹ æ´»å‹•å ±å‘Šç®¡ç†</button>
      <button class="tab" onclick="switchTab('topics')">ğŸ“¢ TOPICSç®¡ç†</button>
      <button class="tab" onclick="switchTab('stats')">ğŸ“Š çµ±è¨ˆæƒ…å ±ç®¡ç†</button>
      <button class="tab" onclick="switchTab('export')">ğŸ’¾ ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›</button>
    </div>

    <div class="content">
      <!-- æ´»å‹•å ±å‘Šã‚¿ãƒ– -->
      <div id="activities" class="tab-content active">
        <div class="instructions">
          <h3>ğŸ“Œ ä½¿ã„æ–¹</h3>
          <ol>
            <li>ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒ ã«æ—¥ä»˜ã€ã‚«ãƒ†ã‚´ãƒªã€ã‚¿ã‚¤ãƒˆãƒ«ã€å†…å®¹ã‚’å…¥åŠ›</li>
            <li>å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆè¤‡æ•°å¯èƒ½ï¼‰</li>
            <li>ã€Œæ´»å‹•ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            <li>æœ€å¾Œã«ã€Œãƒ‡ãƒ¼ã‚¿å‡ºåŠ›ã€ã‚¿ãƒ–ã§JSONã‚’ã‚³ãƒ”ãƒ¼ã—ã¦GitHubã«ä¿å­˜</li>
          </ol>
        </div>

        <div class="success-message" id="success-message">
          âœ… æ´»å‹•å ±å‘Šã‚’è¿½åŠ ã—ã¾ã—ãŸï¼
        </div>

        <form id="activity-form">
          <div class="form-group">
            <label>æ—¥ä»˜</label>
            <input type="date" id="activity-date" required>
          </div>

          <div class="form-group">
            <label>ã‚«ãƒ†ã‚´ãƒª</label>
            <select id="activity-category" required>
              <option value="è¡—é ­æ´»å‹•">è¡—é ­æ´»å‹•</option>
              <option value="åœ°åŸŸè¨ªå•">åœ°åŸŸè¨ªå•</option>
              <option value="æ”¿ç­–æè¨€">æ”¿ç­–æè¨€</option>
              <option value="ã‚¤ãƒ™ãƒ³ãƒˆ">ã‚¤ãƒ™ãƒ³ãƒˆ</option>
              <option value="æ‡‡è«‡ä¼š">æ‡‡è«‡ä¼š</option>
              <option value="ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢">ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢</option>
            </select>
          </div>

          <div class="form-group">
            <label>ã‚¿ã‚¤ãƒˆãƒ«</label>
            <input type="text" id="activity-title" placeholder="ä¾‹: é ˆç£¨é§…å‰ã§è¡—é ­æ¼”èª¬ã‚’å®Ÿæ–½" required>
          </div>

          <div class="form-group">
            <label>å†…å®¹</label>
            <textarea id="activity-description" placeholder="æ´»å‹•ã®è©³ç´°ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„..." required></textarea>
          </div>

          <div class="form-group">
            <label>å†™çœŸï¼ˆè¤‡æ•°é¸æŠå¯èƒ½ï¼‰</label>
            <div class="image-upload-area" onclick="document.getElementById('activity-images').click()">
              <input type="file" id="activity-images" accept="image/*" multiple>
              <p>ğŸ“· ã‚¯ãƒªãƒƒã‚¯ã—ã¦å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</p>
              <p style="font-size: 12px; color: #666; margin-top: 8px;">è¤‡æ•°ã®å†™çœŸã‚’ä¸€åº¦ã«é¸æŠã§ãã¾ã™</p>
            </div>
            <div id="activity-image-preview" class="image-preview"></div>
          </div>

          <button type="submit" class="btn-primary">â• æ´»å‹•ã‚’è¿½åŠ </button>
        </form>

        <div class="activity-list">
          <h3 style="margin-bottom: 15px; color: #0051A5;">ç™»éŒ²æ¸ˆã¿æ´»å‹•å ±å‘Š</h3>
          <div id="activities-list"></div>
        </div>
      </div>

      <!-- TOPICSã‚¿ãƒ– -->
      <div id="topics" class="tab-content">
        <div class="instructions">
          <h3>ğŸ“Œ ä½¿ã„æ–¹</h3>
          <ol>
            <li>TOPãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’ç®¡ç†ã§ãã¾ã™</li>
            <li>æœ€æ–°3ä»¶ãŒè‡ªå‹•çš„ã«TOPãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã•ã‚Œã¾ã™</li>
            <li>å†™çœŸã¯1æšã¾ã§è¿½åŠ å¯èƒ½</li>
          </ol>
        </div>

        <div class="success-message" id="topic-success-message">
          âœ… TOPICSã‚’è¿½åŠ ã—ã¾ã—ãŸ!
        </div>

        <form id="topic-form">
          <div class="form-group">
            <label>æ—¥ä»˜</label>
            <input type="date" id="topic-date" required>
          </div>

          <div class="form-group">
            <label>ã‚«ãƒ†ã‚´ãƒª</label>
            <select id="topic-category" required>
              <option value="ãŠçŸ¥ã‚‰ã›">ãŠçŸ¥ã‚‰ã›</option>
              <option value="æ´»å‹•å ±å‘Š">æ´»å‹•å ±å‘Š</option>
              <option value="æ”¿ç­–">æ”¿ç­–</option>
              <option value="ã‚¤ãƒ™ãƒ³ãƒˆ">ã‚¤ãƒ™ãƒ³ãƒˆ</option>
            </select>
          </div>

          <div class="form-group">
            <label>ã‚¿ã‚¤ãƒˆãƒ«</label>
            <input type="text" id="topic-title" placeholder="ä¾‹: æ–°ã—ã„æ”¿ç­–ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ" required>
          </div>

          <div class="form-group">
            <label>å†…å®¹</label>
            <textarea id="topic-content" placeholder="TOPICSã®å†…å®¹..." required></textarea>
          </div>

          <div class="form-group">
            <label>å†™çœŸï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰</label>
            <div class="image-upload-area" onclick="document.getElementById('topic-image').click()">
              <input type="file" id="topic-image" accept="image/*">
              <p>ğŸ“· ã‚¯ãƒªãƒƒã‚¯ã—ã¦å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</p>
            </div>
            <div id="topic-image-preview" class="image-preview"></div>
          </div>

          <button type="submit" class="btn-primary">â• TOPICSã‚’è¿½åŠ </button>
        </form>

        <div class="activity-list">
          <h3 style="margin-bottom: 15px; color: #0051A5;">ç™»éŒ²æ¸ˆã¿TOPICS</h3>
          <div id="topics-list"></div>
        </div>
      </div>

      <!-- çµ±è¨ˆæƒ…å ±ã‚¿ãƒ– -->
      <div id="stats" class="tab-content">
        <div class="instructions">
          <h3>ğŸ“Œ ä½¿ã„æ–¹</h3>
          <ol>
            <li>ã‚µã‚¤ãƒˆã®ã€Œæ´»å‹•å ±å‘Šã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¡¨ç¤ºã•ã‚Œã‚‹çµ±è¨ˆæ•°å­—ã‚’ç®¡ç†</li>
            <li>æ•°å­—ã‚’å…¥åŠ›ã—ã¦ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            <li>ã€Œãƒ‡ãƒ¼ã‚¿å‡ºåŠ›ã€ã‚¿ãƒ–ã§JSONã‚’ä¿å­˜</li>
          </ol>
        </div>

        <form id="stats-form" class="stats-form">
          <div class="form-group">
            <label>åœ°åŸŸè¨ªå•å›æ•°</label>
            <input type="number" id="stats-visits" value="500" required>
          </div>

          <div class="form-group">
            <label>ä½æ°‘ã®å£°ã‚’è´å–</label>
            <input type="number" id="stats-voices" value="1200" required>
          </div>

          <div class="form-group">
            <label>åœ°åŸŸã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ </label>
            <input type="number" id="stats-events" value="50" required>
          </div>
        </form>

        <button onclick="updateStats()" class="btn-primary">ğŸ“Š çµ±è¨ˆã‚’æ›´æ–°</button>
      </div>

      <!-- ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›ã‚¿ãƒ– -->
      <div id="export" class="tab-content">
        <div class="instructions">
          <h3>ğŸ“Œ ä½¿ã„æ–¹</h3>
          <ol>
            <li>ä¸‹ã®ã€ŒJSONã‚’ç”Ÿæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            <li>è¡¨ç¤ºã•ã‚ŒãŸJSONã‚’ã‚³ãƒ”ãƒ¼</li>
            <li>GitHubã§ <code>public/data/content.json</code> ã‚’é–‹ã„ã¦ç·¨é›†</li>
            <li>ã‚³ãƒ”ãƒ¼ã—ãŸJSONã‚’è²¼ã‚Šä»˜ã‘ã¦ä¿å­˜</li>
            <li>æ•°åˆ†å¾Œã«ã‚µã‚¤ãƒˆã«åæ˜ ã•ã‚Œã¾ã™</li>
          </ol>
        </div>

        <button onclick="generateJSON()" class="btn-secondary">ğŸ’¾ JSONã‚’ç”Ÿæˆ</button>

        <div class="json-output" id="json-output" style="display: none;">
          <h3 style="margin-bottom: 15px; color: #0051A5;">ç”Ÿæˆã•ã‚ŒãŸJSON</h3>
          <button onclick="copyJSON()" class="copy-button">ğŸ“‹ JSONã‚’ã‚³ãƒ”ãƒ¼</button>
          <pre id="json-code"></pre>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
    let contentData = {
      activities: [],
      topics: [],
      stats: {
        visits: 500,
        voices: 1200,
        events: 50
      }
    };

    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰èª­ã¿è¾¼ã¿
    function loadData() {
      const saved = localStorage.getItem('yukawaContent');
      if (saved) {
        contentData = JSON.parse(saved);
        renderActivitiesList();
        renderTopicsList();
        document.getElementById('stats-visits').value = contentData.stats.visits;
        document.getElementById('stats-voices').value = contentData.stats.voices;
        document.getElementById('stats-events').value = contentData.stats.events;
      }
    }

    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
    function saveData() {
      localStorage.setItem('yukawaContent', JSON.stringify(contentData));
    }

    // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
    function switchTab(tabName) {
      // ã‚¿ãƒ–ãƒœã‚¿ãƒ³
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      event.target.classList.add('active');

      // ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
      document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
      document.getElementById(tabName).classList.add('active');
    }

    // æ´»å‹•å ±å‘Šãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
    document.getElementById('activity-form').addEventListener('submit', async (e) => {
      e.preventDefault();

      const images = await convertImagesToBase64('activity-images');

      const activity = {
        date: document.getElementById('activity-date').value,
        category: document.getElementById('activity-category').value,
        title: document.getElementById('activity-title').value,
        description: document.getElementById('activity-description').value,
        images: images
      };

      contentData.activities.unshift(activity);
      saveData();
      renderActivitiesList();

      // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
      e.target.reset();
      document.getElementById('activity-image-preview').innerHTML = '';

      // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
      showSuccessMessage('success-message');
    });

    // TOPICSãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
    document.getElementById('topic-form').addEventListener('submit', async (e) => {
      e.preventDefault();

      const image = await convertImagesToBase64('topic-image');

      const topic = {
        date: document.getElementById('topic-date').value,
        category: document.getElementById('topic-category').value,
        title: document.getElementById('topic-title').value,
        content: document.getElementById('topic-content').value,
        image: image.length > 0 ? image[0] : null
      };

      contentData.topics.unshift(topic);
      saveData();
      renderTopicsList();

      // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
      e.target.reset();
      document.getElementById('topic-image-preview').innerHTML = '';

      // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
      showSuccessMessage('topic-success-message');
    });

    // ç”»åƒã‚’Base64ã«å¤‰æ›
    async function convertImagesToBase64(inputId) {
      const input = document.getElementById(inputId);
      const files = input.files;
      const images = [];

      for (let file of files) {
        if (file && file.type.startsWith('image/')) {
          const base64 = await fileToBase64(file);
          images.push(base64);
        }
      }

      return images;
    }

    // ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Base64ã«å¤‰æ›
    function fileToBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.onerror = reject;
        reader.readAsDataURL(file);
      });
    }

    // ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
    document.getElementById('activity-images').addEventListener('change', (e) => {
      const preview = document.getElementById('activity-image-preview');
      preview.innerHTML = '';

      Array.from(e.target.files).forEach(file => {
        if (file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = (e) => {
            const img = document.createElement('img');
            img.src = e.target.result;
            preview.appendChild(img);
          };
          reader.readAsDataURL(file);
        }
      });
    });

    document.getElementById('topic-image').addEventListener('change', (e) => {
      const preview = document.getElementById('topic-image-preview');
      preview.innerHTML = '';

      const file = e.target.files[0];
      if (file && file.type.startsWith('image/')) {
        const reader = new FileReader();
        reader.onload = (e) => {
          const img = document.createElement('img');
          img.src = e.target.result;
          preview.appendChild(img);
        };
        reader.readAsDataURL(file);
      }
    });

    // æ´»å‹•ãƒªã‚¹ãƒˆè¡¨ç¤º
    function renderActivitiesList() {
      const list = document.getElementById('activities-list');
      list.innerHTML = contentData.activities.map((activity, index) => `
        <div class="activity-item">
          <div class="activity-item-header">
            <div class="activity-item-title">${activity.title}</div>
            <button class="btn-danger" onclick="deleteActivity(${index})">å‰Šé™¤</button>
          </div>
          <div class="activity-item-meta">
            <span>ğŸ“… ${activity.date}</span>
            <span>ğŸ·ï¸ ${activity.category}</span>
          </div>
          <p>${activity.description}</p>
          ${activity.images && activity.images.length > 0 ? `
            <div class="activity-item-images">
              ${activity.images.map(img => `<img src="${img}" alt="æ´»å‹•å†™çœŸ" />`).join('')}
            </div>
          ` : ''}
        </div>
      `).join('');
    }

    // TOPICSãƒªã‚¹ãƒˆè¡¨ç¤º
    function renderTopicsList() {
      const list = document.getElementById('topics-list');
      list.innerHTML = contentData.topics.map((topic, index) => `
        <div class="activity-item">
          <div class="activity-item-header">
            <div class="activity-item-title">${topic.title}</div>
            <button class="btn-danger" onclick="deleteTopic(${index})">å‰Šé™¤</button>
          </div>
          <div class="activity-item-meta">
            <span>ğŸ“… ${topic.date}</span>
            <span>ğŸ·ï¸ ${topic.category}</span>
          </div>
          <p>${topic.content}</p>
          ${topic.image ? `
            <div class="activity-item-images">
              <img src="${topic.image}" alt="TOPICSç”»åƒ" />
            </div>
          ` : ''}
        </div>
      `).join('');
    }

    // æ´»å‹•å‰Šé™¤
    function deleteActivity(index) {
      if (confirm('ã“ã®æ´»å‹•å ±å‘Šã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
        contentData.activities.splice(index, 1);
        saveData();
        renderActivitiesList();
      }
    }

    // TOPICSå‰Šé™¤
    function deleteTopic(index) {
      if (confirm('ã“ã®TOPICSã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
        contentData.topics.splice(index, 1);
        saveData();
        renderTopicsList();
      }
    }

    // çµ±è¨ˆæ›´æ–°
    function updateStats() {
      contentData.stats.visits = parseInt(document.getElementById('stats-visits').value);
      contentData.stats.voices = parseInt(document.getElementById('stats-voices').value);
      contentData.stats.events = parseInt(document.getElementById('stats-events').value);
      saveData();
      alert('âœ… çµ±è¨ˆæƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸï¼');
    }

    // JSONç”Ÿæˆ
    function generateJSON() {
      const json = JSON.stringify(contentData, null, 2);
      document.getElementById('json-code').textContent = json;
      document.getElementById('json-output').style.display = 'block';
    }

    // JSONã‚³ãƒ”ãƒ¼
    function copyJSON() {
      const code = document.getElementById('json-code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        alert('âœ… JSONã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼\nGitHubã® public/data/content.json ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚');
      });
    }

    // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    function showSuccessMessage(id) {
      const message = document.getElementById(id);
      message.style.display = 'block';
      setTimeout(() => {
        message.style.display = 'none';
      }, 3000);
    }

    // åˆæœŸåŒ–
    loadData();

    // ä»Šæ—¥ã®æ—¥ä»˜ã‚’è‡ªå‹•è¨­å®š
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('activity-date').value = today;
    document.getElementById('topic-date').value = today;
  </script>
</body>
</html>
